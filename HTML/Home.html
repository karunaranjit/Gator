<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PhoGator - AI-Powered Photo Discovery</title>
    <link rel="stylesheet" href="../CSS/Header.css">
    <link rel="stylesheet" href="../CSS/Home.css">
    <link rel="stylesheet" href="../CSS/Howitworks.css">
    <link rel="stylesheet" href="../CSS/Occasions.css">
    <link rel="stylesheet" href="../CSS/Footer.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
</head>
<body>
    <!-- Include Header -->
    <div id="header"></div>

    <!-- Hero Section -->
    <section class="hero">
        <div class="hero-container">
            <div class="hero-content">
                <div class="text-wrapper">
                    <div class="circle-background"></div>
                    <div class="camera-decoration"></div>
                    <div class="badge">
                        <i class="fa-solid fa-camera-retro badge-icon"></i>
                        <span>AI-Powered Photo Discovery.</span>
                    </div>
                    <h1 class="hero-title">
                        Hold Tight!<br>
                        <span class="highlight">PhoGator</span> Is <span class="tracking-text">Tracking</span>
                        Your Smile.
                    </h1>
                    <button class="cta-button" onclick="window.location.href='User-Login.html'">
                        Get Started For Free ðŸš€
                    </button>
                    <p class="hero-subtext">Fast. Secure. <strong>AI-Powered Photo Discovery.</strong></p>
                </div>
            </div>
            <div class="hero-image">
                <div class="circle-frame">
                    <video autoplay loop muted playsinline class="hero-video">
                        <source src="../assets/hero.webm" type="video/webm">
                        Your browser does not support the video tag.
                    </video>
                </div>
                <div class="sparkle sparkle-1">
                    <svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
                        <path d="M50 10 L60 40 L90 50 L60 60 L50 90 L40 60 L10 50 L40 40 Z" 
                              fill="#FFE5B4" 
                              stroke="#FFD700" 
                              stroke-width="2"/>
                    </svg>
                </div>
            </div>
        </div>
    </section>

    <!-- How It Works Section -->
    <section class="how-it-works">
        <h2>How PhoGator works?</h2>
        <div class="steps-container">
            <div class="step">
                <div class="step-icon step-icon-1">
                    <i class="fa-solid fa-qrcode"></i>
                </div>
                <div class="step-badge">Step-1</div>
                <h3>Scan the QR Code</h3>
                <p>Scan the event QR to begin your photo search.</p>
            </div>

            <div class="connector"></div>

            <div class="step">
                <div class="step-icon step-icon-2">
                    <i class="fa-solid fa-cloud-arrow-up"></i>
                </div>
                <div class="step-badge">Step-2</div>
                <h3>Upload Your Selfie</h3>
                <p>Upload a selfie so our AI can match your face across all event photos.</p>
            </div>

            <div class="connector"></div>

            <div class="step">
                <div class="step-icon step-icon-3">
                    <i class="fa-solid fa-images"></i>
                </div>
                <div class="step-badge">Step-3</div>
                <h3>Get All Your Photos Instantly</h3>
                <p>We find every photo you're in - ready to view, share, or download.</p>
            </div>
        </div>
    </section>

    <!-- Occasions Section -->
    <section class="occasions">
        <h2>Occasions</h2>
        <div class="occasions-slider">
            <button class="slider-btn prev-btn">
                <i class="fa-solid fa-chevron-left"></i>
            </button>
            
            <div class="slider-container">
                <div class="slider-track">
                    <div class="occasion-card">
                        <div class="card-image">
                            <img src="../assets/images/brataman.jpg" alt="Bartamanda">
                        </div>
                        <h3>Bartamanda</h3>
                        <button class="learn-more-btn" onclick="window.location.href='Occasions.html'">Learn More</button>
                    </div>

                    <div class="occasion-card">
                        <div class="card-image">
                            <img src="../assets/images/college.jpg" alt="College Events">
                        </div>
                        <h3>College Events</h3>
                        <button class="learn-more-btn" onclick="window.location.href='Occasions.html'">Learn More</button>
                    </div>

                    <div class="occasion-card active">
                        <div class="card-image">
                            <img src="../assets/images/wedding.jpg" alt="Wedding">
                        </div>
                        <h3>Wedding</h3>
                        <button class="learn-more-btn" onclick="window.location.href='Occasions.html'">Learn More</button>
                    </div>

                    <div class="occasion-card">
                        <div class="card-image">
                            <img src="../assets/images/birthday.jpg" alt="Birthday">
                        </div>
                        <h3>Birthday</h3>
                        <button class="learn-more-btn" onclick="window.location.href='Occasions.html'">Learn More</button>
                    </div>

                    <div class="occasion-card">
                        <div class="card-image">
                            <img src="../assets/images/concert.jpg" alt="Concert">
                        </div>
                        <h3>Concert</h3>
                        <button class="learn-more-btn" onclick="window.location.href='Occasions.html'">Learn More</button>
                    </div>

                    <div class="occasion-card">
                        <div class="card-image">
                            <img src="../assets/images/sports.jpg" alt="Sports Events">
                        </div>
                        <h3>Sports Events</h3>
                        <button class="learn-more-btn" onclick="window.location.href='Occasions.html'">Learn More</button>
                    </div>

                    <div class="occasion-card">
                        <div class="card-image">
                            <img src="../assets/images/festival.jpg" alt="Festivals">
                        </div>
                        <h3>Festivals</h3>
                        <button class="learn-more-btn" onclick="window.location.href='Occasions.html'">Learn More</button>
                    </div>

                    <div class="occasion-card">
                        <div class="card-image">
                            <img src="../assets/images/family-reunion.jpg" alt="Family Reunion">
                        </div>
                        <h3>Family Reunion</h3>
                        <button class="learn-more-btn" onclick="window.location.href='Occasions.html'">Learn More</button>
                    </div>
                </div>
            </div>

            <button class="slider-btn next-btn">
                <i class="fa-solid fa-chevron-right"></i>
            </button>
        </div>

        <div class="slider-dots">
            <span class="dot"></span>
            <span class="dot"></span>
            <span class="dot active"></span>
            <span class="dot"></span>
            <span class="dot"></span>
            <span class="dot"></span>
            <span class="dot"></span>
            <span class="dot"></span>
        </div>
    </section>

    <!-- Include Footer -->
    <div id="footer"></div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Load Header
            fetch('./Header.html')
                .then(response => response.text())
                .then(data => {
                    document.getElementById('header').innerHTML = data;
                });

            // Load Footer
            fetch('./Footer.html')
                .then(response => response.text())
                .then(data => {
                    document.getElementById('footer').innerHTML = data;
                });

            // Occasions Slider
            setTimeout(() => {
                const track = document.querySelector('.slider-track');
                const prevBtn = document.querySelector('.prev-btn');
                const nextBtn = document.querySelector('.next-btn');
                const dots = document.querySelectorAll('.dot');
                const originalCards = Array.from(document.querySelectorAll('.occasion-card'));
                
                if (!track || !prevBtn || !nextBtn || originalCards.length === 0) return;
                
                const totalCards = originalCards.length;
                let currentIndex = 2; // Wedding is at index 2

                // Clone cards for infinite loop
                const clonesToPrepend = [];
                const clonesToAppend = [];
                
                for (let i = totalCards - 2; i < totalCards; i++) {
                    clonesToPrepend.push(originalCards[i].cloneNode(true));
                }
                for (let i = 0; i < 2; i++) {
                    clonesToAppend.push(originalCards[i].cloneNode(true));
                }
                
                clonesToPrepend.reverse().forEach(clone => track.insertBefore(clone, track.firstChild));
                clonesToAppend.forEach(clone => track.appendChild(clone));

                const allCards = document.querySelectorAll('.occasion-card');
                
                // Adjusted index for clones
                currentIndex = 4; // Wedding position after adding 2 clones at start
                
                function getCardWidth() {
                    const card = allCards[0];
                    const style = window.getComputedStyle(card);
                    const margin = parseFloat(style.marginRight) || 0;
                    return card.offsetWidth + margin + 32; // card width + margin + gap
                }

                function updateSlider(transition = true) {
                    const cardWidth = getCardWidth();
                    const containerWidth = document.querySelector('.slider-container').offsetWidth;
                    
                    if (!transition) {
                        track.style.transition = 'none';
                    } else {
                        track.style.transition = 'transform 0.5s ease';
                    }
                    
                    // Center the active card perfectly
                    const offset = (containerWidth / 2) - (cardWidth / 2) - (currentIndex * cardWidth);
                    track.style.transform = `translateX(${offset}px)`;
                    
                    // Update active class
                    allCards.forEach((card, index) => {
                        card.classList.remove('active');
                        if (index === currentIndex) {
                            card.classList.add('active');
                        }
                    });

                    // Update dots
                    let actualIndex = (currentIndex - 2) % totalCards;
                    if (actualIndex < 0) actualIndex += totalCards;
                    
                    dots.forEach((dot, index) => {
                        dot.classList.toggle('active', index === actualIndex);
                    });
                }

                function handleTransitionEnd() {
                    // Jump to real cards when reaching clones
                    if (currentIndex <= 1) {
                        currentIndex = totalCards + 1;
                        updateSlider(false);
                        requestAnimationFrame(() => {
                            track.style.transition = 'transform 0.5s ease';
                        });
                    } else if (currentIndex >= totalCards + 2) {
                        currentIndex = 2;
                        updateSlider(false);
                        requestAnimationFrame(() => {
                            track.style.transition = 'transform 0.5s ease';
                        });
                    }
                }

                track.addEventListener('transitionend', handleTransitionEnd);

                nextBtn.addEventListener('click', () => {
                    currentIndex++;
                    updateSlider(true);
                });

                prevBtn.addEventListener('click', () => {
                    currentIndex--;
                    updateSlider(true);
                });

                dots.forEach((dot, index) => {
                    dot.addEventListener('click', () => {
                        currentIndex = index + 2;
                        updateSlider(true);
                    });
                });

                // Initialize slider after a brief delay to ensure all styles are loaded
                requestAnimationFrame(() => {
                    updateSlider(false);
                });

                // Recalculate on window resize
                let resizeTimer;
                window.addEventListener('resize', () => {
                    clearTimeout(resizeTimer);
                    resizeTimer = setTimeout(() => {
                        updateSlider(false);
                    }, 250);
                });
            }, 100);
        });
    </script>
</body>
</html>